
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to install VMware Server on 2.6.31 kernels - Radu Cotescu's professional blog</title>
  <meta name="author" content="Radu Cotescu">

  
  <meta name="description" content="This blog posts describes how to use a BASH script to install VMware Server on all the popular Linux distributions featuring the 2.6.31 kernel.">
  <meta name="keywords" content="vmware, 2, fedora, opensuse, suse, patch, fix, stable, stability, script, automatically, install">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://radu.cotescu.com/how-to-install-vmware-server-ubuntu-fedora-opensuse">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.cotescu.com/raducotescu" rel="alternate" title="Radu Cotescu's professional blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8815189-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackPageLoadTime']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="top-nav">
    <ul>
        <li><a href="/" title="Home">127.0.0.1</a></li>
        <li><a href="/about/" title="About">About</a></li>
        <li><a href="/privacy-policy/" title="Privacy Policy">Privacy Policy</a></li>
        <li><a href="/calendar/" title="Calendar">Calendar</a></li>
        <li><a href="/resume/" title="Resume">Resume</a></li>
    </ul>
  </div>
  <header role="banner"><hgroup>
  <h1><a href="/">Radu Cotescu's professional blog</a></h1>
  
    <h2>g33k w17h pa45510n</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.cotescu.com/raducotescu" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=raducotescu" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:radu.cotescu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/category/-com">.com</a></li>
  <li><a href="/category/code">Code</a></li>
  <li><a href="/category/java">Java</a></li>
  <li><a href="/category/python">Python</a></li>
  <li><a href="/category/how-to">How To</a></li>
  <li><a href="/category/linux">Linux</a></li>
  <li><a href="/category/ubuntu">Ubuntu</a></li>
  <li><a href="/category/oracle">Oracle</a></li>
  <li><a href="/category/reviews">Reviews</a></li>
  <li><a href="/category/virtualization">Virtualization</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Install VMware Server on 2.6.31 Kernels</h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-01-19T01:20:15+02:00" pubdate data-updated="true">Jan 19<span>th</span>, 2010</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong><strong><strong>UPDATE 3</strong>: </strong>The  script and patches have been updated to also support kernel 2.6.38. For  older kernel releases please download the archive from <a href="https://github.com/raducotescu/vmware-server-linux-2.6.3x-kernel/tree/release-1.5">here</a> (temporary fix until I will unify the solutions).</strong></p>

<p><strong>UPDATE 2</strong>: <strong>The script and patches have been updated to also support kernel 2.6.35.</strong></p>

<p><strong>UPDATE 1</strong>: <strong>The script should also work with 2.6.32 kernels from version 1.2.</strong></p>

<p>Seeing the success I have encountered with the <a href="http://radu.cotescu.com/how-to-install-vmware-server-2-0-x-on-ubuntu-9-10-karmic-koala/">blog post about installing VMware Server on Ubuntu Karmic Koala</a> and helped by <a href="http://risesecurity.org/">Ramon de Carvalho Valle</a> with a better patch regarding the installation of the virtualization server on the newer kernels found in three of the most popular Linux distributions - Ubuntu, Fedora and openSUSE - I&#8217;ve managed to provide a script which should be able to install the server on all of these distros. Furthermore, by placing some trivial checks in a function of the script one may enlarge the applicability to a lot more distributions with common roots (Debian and all Debian-based distributions, Red Hat and all of its derivatives).</p>

<p>I have managed to test the script on both the 2.6.31-14 and 2.6.31-17 kernels which can be found in Ubuntu 9.10 and on the 2.6.31.9-174.fc12 kernel found in Fedora 12. Since I didn&#8217;t have an openSUSE machine I am not sure of what is the outcome on this distribution (regarding the kernel sources; people who commented previously on my blog had no problems installing VMware Server using the previous script) but the script is made so that it automatically determines on what kind of distribution is run and according to this information it automatically installs the needed packages. Careful though, as this requires Internet access for the specific machines.</p>

<p>The good news regarding Ramon&#8217;s patch is the fact that <strong>now VMware Server seems stable</strong>. No more warnings appear when compiling modules, except for <code>vsock</code>, which - miraculously - builds on Fedora.</p>

<p>Regarding the installation of VMware Server on Fedora, I have encountered some difficulties after the installation completed successfully. Basically I wasn&#8217;t able to log into the web administration interface because of multiple factors. The steps which should be followed will be reminded to the Fedora users after the script completes but I&#8217;m gonna mention them here too:</p>

<ol>
<li><p>edit <code>/etc/services</code> and replace the entry located on TCP/902 port with <code>vmware-authd</code></p></li>
<li><p>disable SELinux it by editing the <code>/etc/selinux/config</code> file (permissive mode isn&#8217;t enough - see comments)</p></li>
<li><p>reboot your system</p></li>
</ol>


<p>The general instructions are the same as the ones for the previous version of the script.</p>

<h3>How to</h3>

<ol>
<li><p>Download VMware Server (<a href="https://www.vmware.com/freedownload/p/download.php?product=server20">2.0.1</a> or <a href="http://www.vmware.com/download/server/getserver.html">2.0.2</a>) - gz format, <em>not</em> rpm. Whichever version you choose, keep the license key near.</p></li>
<li><p>Download my script from <a href="http://github.com/raducotescu/vmware-server-linux-2.6.3x-kernel/tarball/master">here</a> (right click, save as, extract archive).</p></li>
<li><p>Run the script with super user rights either in the same folder where you have downloaded the server archive, either by providing it the path to that folder. <strong><em>Make sure the folder where you have downloaded the server&#8217;s archive doesn&#8217;t contain spaces in its path name or the script will exit (giving you this reason as an error message)</em></strong>. If the script exists, it will give you a decent warning from which you should be able to tell whatâ€™s wrong. On Ubuntu at least, the VSOCK module will not work (will fail to compile), giving you a hint that your kernel sources might not be the ones for your running kernel. This is not true, as the script takes care of this before doing the hard work. Anyway, VMware Server will work without it. Example:</p>

<pre><code> chmod +x vmware-server-2.0.x-kernel-2.6.3x-install.sh
 sudo ./vmware-server-2.0.x-kernel-2.6.3x-install.sh [PATH _TO_VMWARE_ARCHIVE]
</code></pre></li>
<li><p>When you are asked about adding users to the server, if you do not provide your own account, the user used for login in the web console of the server will be <em>root</em> (maybe you <em>should</em> add yourself there).</p></li>
<li><p>Provide the license key when asked about it.</p></li>
<li><p>For the ones installing Windows guests in VMware Server, you must pick one of the following two solutions to avoid having problems with the mouse in the console:</p>

<ul>
<li><p>you run the <code>start-VMware-console.sh</code> in the terminal every time you want to launch a VMware Server console, but after you have installed the VMware plug-in for Firefox</p></li>
<li><p>you export this variable in the environment right after login such that it will be set before starting Firefox:</p>

<pre><code>  VMWARE_USE_SHIPPED_GTK=yes
</code></pre></li>
</ul>
</li>
<li><p>If the solution worked well for you please share this info wherever you can. :D</p></li>
</ol>


<p>I am looking forward for your feedback because running the script and the server under multiple kernel versions and distributions will provide the real way to see if this latest patch really handles all the flaws in VMware Server or not. And if it does, this means that Ramon and I (but mostly Ramon) can shout a big &#8220;In your face, VMware!&#8221;.</p>

<p>P.S. All my open-source work can also be found on <a href="http://github.com/raducotescu">GitHUB</a>. This is useful if you think that you have some other non up to date versions of my scripts. Anyway, the scripts which can be found on my server represent the latest version.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Radu Cotescu</span></span>

      








  


<time datetime="2010-01-19T01:20:15+02:00" pubdate data-updated="true">Jan 19<span>th</span>, 2010</time>
      

<span class="categories">
  
    <a class='category' href='/category/how-to/'>How To</a>, <a class='category' href='/category/linux/'>Linux</a>, <a class='category' href='/category/vmware/'>VMware</a>, <a class='category' href='/category/virtualization/'>Virtualization</a>
  
</span>


    </p>
    
      <div class="sharing">
  
    <script type="text/javascript" src="http://www.reddit.com/static/button/button3.js"></script>
  
  
  	<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://radu.cotescu.com/how-to-install-vmware-server-ubuntu-fedora-opensuse/" data-via="raducotescu" data-counturl="http://radu.cotescu.com/how-to-install-vmware-server-ubuntu-fedora-opensuse/" >Tweet</a>
  	
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  
  
  	<div class="g-plusone" data-size="medium"></div>
  	
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  
    <div class="fb-like" data-send="true" data-width="350" data-show-faces="false"></div>
    
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/put-your-latest-tweet-as-pidgin-status-on-ubuntu-linux/" title="Previous Post: Put your latest tweet as Pidgin's status on Ubuntu (Linux)">&laquo; Put your latest tweet as Pidgin's status on Ubuntu (Linux)</a>
      
      
        <a class="basic-alignment right" href="/save-power-when-using-your-pc-with-micromiser/" title="Next Post: Save power when using your PC with MicroMiser">Save power when using your PC with MicroMiser &raquo;</a>
      
    </p>
  </footer>
</article>

  <section style="margin-bottom: 30px">
    <div id="google-ads-comments" style="margin: 0 auto auto; text-align: center">
      <script type="text/javascript"><!--
        google_ad_client = "ca-pub-8659561010253809";
        /* NearCommentsBox468x60 */
        google_ad_slot = "0858986716";
        google_ad_width = 468;
        google_ad_height = 60;
      //-->
      </script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
    </div>
  </section>
  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    

<script type="text/javascript">
      var disqus_shortname = 'raducotescu';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://radu.cotescu.com/how-to-install-vmware-server-ubuntu-fedora-opensuse/';
        var disqus_url = 'http://radu.cotescu.com/how-to-install-vmware-server-ubuntu-fedora-opensuse/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/coloured-log-outputs/">Coloured log outputs on Unix/Linux</a>
      </li>
    
      <li class="post">
        <a href="/java-common-sense/">A useful rant on how people write Java code</a>
      </li>
    
      <li class="post">
        <a href="/tools-required-for-opening-a-macbook-pro/">Tools required for opening a MacBook Pro</a>
      </li>
    
      <li class="post">
        <a href="/the-switch-to-mac-from-ubuntu/">Switching to Mac from Ubuntu</a>
      </li>
    
      <li class="post">
        <a href="/migrating-your-ubuntu-machine-to-a-ssd-drive/">Migrating your Ubuntu machine to a SSD drive</a>
      </li>
    
  </ul>
</section>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8659561010253809";
/* Sidebar250x250 */
google_ad_slot = "8430472643";
google_ad_width = 250;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<section>
  <h1>Latest Tweets</h1>
    <script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
    <script>
    new TWTR.Widget({
      version: 2,
      type: 'profile',
      rpp: 5,
      interval: 30000,
      width: 250,
      height: 370,
      theme: {
        shell: {
          background: '#cfcfcf',
          color: '#ffffff'
        },
        tweets: {
          background: '#e8e8e8',
          color: '#4b4b4b',
          links: '#0182eb'
        }
      },
      features: {
        scrollbar: false,
        loop: false,
        live: true,
        behavior: 'all'
      }
    }).render().setUser('raducotescu').start();
    </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/106725941266744510645?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  &copy; 2009 - 2012 - Radu Cotescu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  


</body>
</html>
