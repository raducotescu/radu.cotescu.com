
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Radu Cotescu's professional blog</title>
  <meta name="author" content="Radu Cotescu">

  
  <meta name="description" content="A passionate g33k sharing his experience about programming, Linux, virtualization and other computer related stuff.">
  <meta name="keywords" content="radu,cotescu,java,python,ubuntu,linux,oracle,programming,software,engineering">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://raducotescu.github.com/radu/page/6">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.cotescu.com/raducotescu" rel="alternate" title="Radu Cotescu's professional blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8815189-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackPageLoadTime']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="top-nav">
    <ul>
        <li><a href="/" title="Home">127.0.0.1</a></li>
        <li><a href="/about/" title="About">About</a></li>
        <li><a href="/privacy-policy/" title="Privacy Policy">Privacy Policy</a></li>
        <li><a href="/calendar/" title="Calendar">Calendar</a></li>
        <li><a href="/resume/" title="Resume">Resume</a></li>
    </ul>
  </div>
  <header role="banner"><hgroup>
  <h1><a href="/">Radu Cotescu's professional blog</a></h1>
  
    <h2>g33k w17h pa45510n</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.cotescu.com/raducotescu" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=raducotescu" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:raducotescu.github.com/radu" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/category/-com">.com</a></li>
  <li><a href="/category/code">Code</a></li>
  <li><a href="/category/java">Java</a></li>
  <li><a href="/category/python">Python</a></li>
  <li><a href="/category/how-to">How To</a></li>
  <li><a href="/category/linux">Linux</a></li>
  <li><a href="/category/ubuntu">Ubuntu</a></li>
  <li><a href="/category/oracle">Oracle</a></li>
  <li><a href="/category/reviews">Reviews</a></li>
  <li><a href="/category/virtualization">Virtualization</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/oracle-toplink-stored-procedures/">Oracle TopLink, the ORA-00900 Error and Stored Procedures</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-31T12:11:29+03:00" pubdate data-updated="true">May 31<span>st</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I was introduced to Oracle&#8217;s TopLink <a href="http://en.wikipedia.org/wiki/Object-relational_mapping">ORM</a> package during my second internship at Oracle. Although the API (because TopLink actually became the reference implementation for the <a href="http://en.wikipedia.org/wiki/Java_Persistence_API">JPA</a> 2.0) seemed a bit overwhelming at first, I&#8217;ve managed to get a grasp of it quite fast, allowing me to finish the assigned projects in time. The familiarity with the API and with Toplink Workbench, a graphical tool designed to help you map database tables into Java classes (basically JavaBeans), made me use this combination for my diploma project (which I&#8217;ve been talking about more or less on my previous posts).</p>

<p>Working on a parser that would extract objects out of some very large text files (about 1.8 million lines) and would then persist them into a DB, I was required to eliminate duplicates. I had two options:</p>

<ol>
<li><p>parse the file, create an object, verify if the object was persisted by doing a SELECT query in the DB after its attributes (actually TopLink handled this part) and if the result was null persist the new object;</p></li>
<li><p>parse the file, create objects, persist them, eliminate duplicates after all objects have been parsed using a <em>stored procedure.</em></p></li>
</ol>


<p>While method 1 uses only the sequence values needed for the operation (I&#8217;m using sequences for my primary keys), for each INSERT a SELECT has to be made before, which would induce a performance fault. Method 2 on the other hand uses more sequence values than the first one by inserting more rows than actually needed, but even with this issue in mind it turned out to work faster. So there you go, we have a winner.</p>

<p>Using <em>stored procedures</em> has some advantages and as well some disadvantages. The advantages are that nothing is quicker than native database code and this option allows you to write complex operations using a simple implementation language (SQL, PL/SQL) which would be quite hard to write using programming languages. The disadvantages come in the application layer, because these stored procedures aren&#8217;t portable: if you change your database engine, let&#8217;s say from MySQL to Oracle, chances are that 99.5% you must rewrite those procedures.</p>

<p>In my case the stored procedure doesn&#8217;t return any rows, it actually deletes duplicates:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class='sql'><span class='line'><span class="k">CREATE</span> <span class="k">OR</span> <span class="k">REPLACE</span>
</span><span class='line'><span class="k">PROCEDURE</span> <span class="n">procedure_name</span> <span class="k">AS</span>
</span><span class='line'><span class="k">BEGIN</span>
</span><span class='line'>  <span class="k">DELETE</span> <span class="k">FROM</span> <span class="k">table_name</span> <span class="n">a</span> <span class="k">WHERE</span> <span class="n">a</span><span class="p">.</span><span class="n">id</span> <span class="o">&gt;</span> <span class="p">(</span>
</span><span class='line'>  <span class="k">SELECT</span> <span class="k">MIN</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">id</span><span class="p">)</span>
</span><span class='line'>  <span class="k">FROM</span> <span class="k">table_name</span> <span class="n">b</span>
</span><span class='line'>  <span class="k">WHERE</span>
</span><span class='line'>    <span class="n">b</span><span class="p">.</span><span class="n">field1</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">field1</span> <span class="k">AND</span>
</span><span class='line'>    <span class="n">b</span><span class="p">.</span><span class="n">field2</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">field2</span> <span class="k">AND</span>
</span><span class='line'>    <span class="n">b</span><span class="p">.</span><span class="n">field3</span> <span class="o">=</span> <span class="n">a</span><span class="p">.</span><span class="n">field3</span>
</span><span class='line'>  <span class="p">);</span>
</span><span class='line'><span class="k">END</span> <span class="n">procedure_name</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The Java code used for calling this procedure is simple:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
</pre></td><td class='code'><pre><code class='java'><span class='line'><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">deleteDuplicates</span><span class="o">()</span> <span class="o">{</span>
</span><span class='line'>    <span class="n">Session</span> <span class="n">session</span> <span class="o">=</span> <span class="n">ToplinkSession</span><span class="o">.</span><span class="na">getToplinkSession</span><span class="o">();</span>
</span><span class='line'>    <span class="n">DataModifyQuery</span> <span class="n">dmq</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DataModifyQuery</span><span class="o">();</span>
</span><span class='line'>    <span class="n">StoredProcedureCall</span> <span class="n">spc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StoredProcedureCall</span><span class="o">();</span>
</span><span class='line'>    <span class="n">spc</span><span class="o">.</span><span class="na">setProcedureName</span><span class="o">(</span><span class="s">&quot;procedure_name&quot;</span><span class="o">);</span>
</span><span class='line'>    <span class="n">dmq</span><span class="o">.</span><span class="na">setCall</span><span class="o">(</span><span class="n">spc</span><span class="o">);</span>
</span><span class='line'>    <span class="n">session</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">dmq</span><span class="o">);</span>
</span><span class='line'><span class="o">}</span>
</span></code></pre></td></tr></table></div></figure>


<p>where ToplinkSession is a singleton class with a static method for returning a <code>Session</code> (or <code>DatabaseSession</code>) object. Note the highlighted line: if you would use a <code>ReadAllQuery</code> instead of <code>DataModifyQuery</code> you&#8217;d get a <code>java.sql.SQLException</code> nested in an <code>oracle.toplink.DatabaseException</code> together with an <strong>ORA-00900</strong> error message, even if the generated SQL doesn&#8217;t contain errors. This is because the <code>ReadAllQuery</code> expects data to return, while the other doesn&#8217;t. So the correct way of calling stored procedures that don&#8217;t return data is with the help of <code>DataModifyQuery</code>.</p>

<p>I hope that by having all this cleared out you won&#8217;t deal with this error any more.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/virtualbox-virtual-servers/">Using VirtualBox for Virtualizing Servers</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-27T01:07:56+03:00" pubdate data-updated="true">May 27<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://virtualbox.org"><img src="/uploads/wpuploads/2010/05/vbox-300x225.png" alt="Oracle VirtualBox" /></a>A considerable amount of my diploma project runs on several virtual machines, due to the lack of multiple physical machines required for the job. Of course, <a href="http://radu.cotescu.com/geeks-and-their-computers/">Riker</a> isn&#8217;t tailored for production regarding this project, but it was built specifically to allow me to develop the code without restrictions. For a load under 10 users I think it would do the job quite okay. You might be asking yourself what kind of project it is if an Intel Core i7 930 processor couldn&#8217;t handle the job. I&#8217;m not going to tell you&#8230; Yet.</p>

<p>Because of the way <a href="http://radu.cotescu.com/category/vitualization/vmware/">VMware Server</a> works on the last kernels from Ubuntu this tool couldn&#8217;t have offered me the stability and performance I need. And because I really like to use my graphics card to decode HD content, Xen or VMware ESXi weren&#8217;t an option either. What was left? VirtualBox is made for desktop virtualization. Still, the ease of use of this product and the fact that it never ever failed for my needs made me actually consider it could be up for the job. Of course, the only problem I had was daemonizing it somehow so that I could run the virtual machines without necessarily being logged in. It actually crossed my mind a few times to write some scripts which would rely on the CLI tools that VirtualBox provides, but the lack of time always made me think twice before this.</p>

<p>At some point in time though, I discovered <a href="http://vboxtool.sourceforge.net/">VBoxTool</a>, which coincidentally is nothing more than a collection of wrapper scripts written in BASH which help you daemonize the hypervisor. How cool is that? Provided that you set up a configuration file and add an init script to the desired runlevels (all this by following proper written explanations directly from the author), this &#8220;facade framework&#8221; (design pattern pun intended) will automatically start/resume the desired virtual machines and will shutdown/suspend them together with your host. I had to modify about four lines of code to alter a bit the behaviour for shutdown so that my VMs would always get suspended instead of turned off, but that&#8217;s almost nothing.</p>

<p>The VMs that are on most of the time both run Ubuntu Server 10.04 64bit: one with 2 GB of RAM and Oracle 11G, the other with 128 MB hosting an internal repository under <a href="http://en.wikipedia.org/wiki/Nginx">nginx</a> (which is a <em>very</em> fast web server). They both work great and my host doesn&#8217;t at all feel sluggish. Actually all these three machines (host + 2 guests) run incredibly well. The maximum sustained throughput I achieved using the virtualized repository was 60 MB/s which is pretty impressive. I haven&#8217;t tried yet to test the DB engine with a consistent load (a great number of queries directed to it simultaneously) but I will get that chance near the end of June when I&#8217;ll perform some load testing on my application.</p>

<p>By the way, nine days ago VirtualBox 3.2 has been released (the first release of VB since Oracle acquired Sun) and a bunch of <a href="http://www.virtualbox.org/wiki/Changelog">new features</a> have seen daylight. Check it out.</p>

<p>Considering that there&#8217;s a reliable way of running virtualized servers into a daemonized VirtualBox, do you still want to puzzle yourself with VMware Server&#8217;s erratic behaviour?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/openoffice-org-3-ubuntu-and-romanian-fonts/">OpenOffice.org 3, Ubuntu and Romanian Fonts</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-16T18:41:18+03:00" pubdate data-updated="true">May 16<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Having to write an article dealing with a part of my diploma project for the <em>Students&#8217; Papers Session</em> in my University, I discovered that some fonts (particularly &#8220;ș&#8221; and &#8220;ț&#8221;) were displayed awkward in Writer, the word processing software from OpenOffice.org. By awkward I mean that &#8220;ș&#8221; and &#8220;ț&#8221; were using other fonts than &#8220;s&#8221; and  &#8220;t&#8221;. The strange thing is that this was happening only on my laptop, while on my desktop everything worked okay. Both these machines have the same software stack (Ubuntu 10.04 x86_64 and OpenOffice.org 3.2).</p>

<p>Browsing the web for a solution I couldn&#8217;t find anything pointing in the right direction. Still, what I&#8217;ve managed to observe was that on my laptop I had a <code>.fonts</code> folder in my home directory which seemed to contain the exact font I was using in Writer (and that was stored in the system fonts folder too). When I looked on my desktop for that specific folder, surprise: there wasn&#8217;t any. While this folder keeps user specific fonts, the main folder where the fonts are kept for the entire system is <code>/usr/share/fonts</code>. I&#8217;ve then decided to delete the <code>.fonts</code> folder from my home directory (I still don&#8217;t know what created it) and then I&#8217;ve regenerated the font cache, using this command:</p>

<p>&#8220;` bash</p>

<p>Now everything is back to normal in my font world. Maybe I&#8217;ll use LaTeX when it&#8217;s time to write the real deal.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/ubuntu-usb-stick/">Booting Ubuntu From an USB Stick</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-12T00:36:35+03:00" pubdate data-updated="true">May 12<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Booting Ubuntu from an USB stick is both fast and convenient: <em>fast</em> because an USB stick definitely has better R/W speeds than CDs, <em>convenient</em> because you can alter those files for how many times you want without buying several storage mediums (you could use a CD-RW, but that still would be slow). Nowadays USB sticks have become cheaper and offer much more GB/$ than they used to, so it&#8217;s not unusual to find affordable flash pens with 2+ GB storage space. Considering that an Ubuntu LiveCD has about 700MB, putting that on a 2GB flash pen will leave you with almost 1.3GB unused space. Wouldn&#8217;t that be a shame?</p>

<p>Of course, USB sticks can have multiple partitions (but not on Windows - and guys &amp; girls, this is a <em>feature</em>, not a <em>bug</em>). While using your pen&#8217;s 2 partitions wouldn&#8217;t be a problem on Linux, this certainly is a debatable subject on Windows. Let&#8217;s make it clear: <strong>Windows only sees the first partition of a removable drive</strong>. What&#8217;s the solution if you want to use your USB stick for storage too?</p>

<h3>How to</h3>

<p>My stick for this job is a 4GB <a href="http://www.patriotmemory.com/products/detailp.jsp?prodline=7&amp;catid=27&amp;prodgroupid=64&amp;id=630&amp;type=11">Patriot Xporter XT Boost</a>, which is a pretty fast beast. I am assuming that you are working with Ubuntu (installed on your machine or running from a LiveCD, the differences are minimal). The tools used for the job are <em>GParted</em> and <em>Ubuntu Live USB Creator</em>. While the latter comes by default in Ubuntu, the former is only present on the LiveCD but can be installed easily:</p>

<pre><code>sudo apt-get install gparted
</code></pre>

<p>The first step consists of creating the necessary partitions on your stick. Insert your stick to an USB port and open <em>GParted</em> (<em>System » Administration » Gparted</em>). Now select your USB pen (on my machine this is <code>/dev/sdg</code>) and delete all the available partitions. After this your stick should look like in screenshot 1.</p>

<p>[caption id=&#8221;attachment_1313&#8221; align=&#8221;aligncenter&#8221; width=&#8221;300&#8221; caption=&#8221;GParted Unallocated Space&#8221;]<a href="/uploads/wpuploads/2010/05/gparted-1.png"><img src="/uploads/wpuploads/2010/05/gparted-1-300x231.png" alt="GParted Unallocated Space" /></a>[/caption]</p>

<p>Next you have to create the STORAGE partition <em>and then</em> the UBUNTU partition (screenshots 2, 3 and 4), where the UBUNTU partition should have about 714MB.</p>

<p>[caption id=&#8221;attachment_1314&#8221; align=&#8221;aligncenter&#8221; width=&#8221;300&#8221; caption=&#8221;GParted - creating the STORAGE partition&#8221;]<a href="/uploads/wpuploads/2010/05/gparted-2.png"><img src="/uploads/wpuploads/2010/05/gparted-2-300x231.png" alt="GParted - creating the STORAGE partition" /></a>[/caption]</p>

<p>[caption id=&#8221;attachment_1315&#8221; align=&#8221;aligncenter&#8221; width=&#8221;300&#8221; caption=&#8221;GParted - Creating the UBUNTU partition&#8221;]<a href="/uploads/wpuploads/2010/05/gparted-3.png"><img src="/uploads/wpuploads/2010/05/gparted-3-300x231.png" alt="GParted - Creating the UBUNTU partition" /></a>[/caption]</p>

<p>[caption id=&#8221;attachment_1316&#8221; align=&#8221;aligncenter&#8221; width=&#8221;300&#8221; caption=&#8221;GParted - final partition layout&#8221;]<a href="/uploads/wpuploads/2010/05/gparted-4.png"><img src="/uploads/wpuploads/2010/05/gparted-4-300x231.png" alt="GParted - final partition layout" /></a>[/caption]</p>

<p>Then start <em>Ubuntu Live USB Creator</em> (<em>System » Administration » Startup Disk Creator</em>). Select your Ubuntu image/CD and from the partitions listed in the bottom frame select the one labelled UBUNTU (if your stick appears like <code>/dev/sdg</code>, this partition should be <code>/dev/sdg2</code>). By using the second partition for Ubuntu you assure yourself that you can use your stick for storing files on the first one using Windows machines (this also protects your second partition against accidentally being written by a Windows user). Once you&#8217;ve made these choices, click on <em>Make Startup Disk</em> and wait for the process to finish.</p>

<p>[caption id=&#8221;attachment_1317&#8221; align=&#8221;aligncenter&#8221; width=&#8221;300&#8221; caption=&#8221;Ubuntu Live USB Creator&#8221;]<a href="/uploads/wpuploads/2010/05/usb-creator-1.png"><img src="/uploads/wpuploads/2010/05/usb-creator-1-300x236.png" alt="Ubuntu Live USB Creator" /></a>[/caption]</p>

<p>To boot a machine using your newly created Live stick, change the BIOS settings accordingly. This can vary from selecting the first boot device to be a Removable one, or setting your first hard disk to be your flash pen (this depends on the system to be booted). Now not only that you have a stick from which you can boot and install Ubuntu in a breeze, you also can use that extra space for platform independent storage.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/automated-cpanel-backup/">Automated cPanel Backup</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-05-07T03:07:45+03:00" pubdate data-updated="true">May 7<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>A great man once said:</p>

<blockquote><p>Only wimps use tape backup: <em>real</em> men just upload their important  stuff on ftp, and let the rest of the world mirror it ;)</p></blockquote>

<p>While it works for <a href="http://en.wikipedia.org/wiki/Linux_Torvalds">him</a>, for us pure mortals this trick doesn&#8217;t get the job done. That&#8217;s why we <em>have</em> to use backups. Protecting your data is important. It&#8217;s almost vital that you keep a copy of your most important files in case your primary storage medium just dies on you. Or even worse: it gets hacked. Following my post about <a href="http://radu.cotescu.com/securing-wordpress-from-the-ground-up/">securing WordPress</a>, I thought that when my blog got hacked I was lucky to have those files backed-up on my hard-drive which let me reduce the downtime involved by moving my blog to another host. I say lucky because only providence made me make a backup copy to my hard drive.</p>

<p>Since then I&#8217;ve decided to automate the backup process and this resulted in a beautifully crafted BASH script which should get the job done for everyone having a web hosting account with <a href="http://en.wikipedia.org/wiki/CPanel">cPanel</a>, one of the most popular web hosting administration panels. The script relies on the existence of several configuration files:</p>

<ol>
<li><p>main configuration file - holding global settings like the backup folder, log file, etc.;</p></li>
<li><p>domain configuration file - a file for every domain a user holds on different accounts/servers with specific data for logging into cPanel and downloading the home directories and MySQL databases (add-on domains data can be downloaded with the primary domain&#8217;s). This file should have the same name as the domain (e.g. example.com).</p></li>
</ol>


<p>For detailed information about setting up the system I encourage you to read the included <code>README</code> file and the comments from the configuration files. To run the script you just need to have the files set up according to your needs and call it like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>./getCPANELbackups.sh
</span></code></pre></td></tr></table></div></figure>


<p>Of course you can fully automate your backups by creating a CRON job to call the script like this:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>00 00 * * * /path/to/script/getCPANELbackups.sh
</span></code></pre></td></tr></table></div></figure>


<p>Since the domain configuration files hold sensible data (users and passwords) it&#8217;s better to assure that no other user on your system has access to them. This means that you must set up the file permissions to 600 (read/write only for your account):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'>chmod 600 example.com
</span></code></pre></td></tr></table></div></figure>


<p>For any complaints or feature requests, please drop a comment on this page. Backup often!</p>

<p><a href="http://github.com/raducotescu/cPanel-backups/tarball/master">Download</a></p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/page/7/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/page/5/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/tools-required-for-opening-a-macbook-pro/">Tools required for opening a MacBook Pro</a>
      </li>
    
      <li class="post">
        <a href="/the-switch-to-mac-from-ubuntu/">Switching to Mac from Ubuntu</a>
      </li>
    
      <li class="post">
        <a href="/migrating-your-ubuntu-machine-to-a-ssd-drive/">Migrating your Ubuntu machine to a SSD drive</a>
      </li>
    
      <li class="post">
        <a href="/why-awk-is-better-than-cut/">Why awk is better than cut</a>
      </li>
    
      <li class="post">
        <a href="/bash-old-kernel-artefacts/">Bash one-liner for removing old kernel artefacts</a>
      </li>
    
  </ul>
</section>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8659561010253809";
/* Sidebar250x250 */
google_ad_slot = "8430472643";
google_ad_width = 250;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>

<section>
  <h1>Latest Tweets</h1>
    <script charset="utf-8" src="http://widgets.twimg.com/j/2/widget.js"></script>
    <script>
    new TWTR.Widget({
      version: 2,
      type: 'profile',
      rpp: 5,
      interval: 30000,
      width: 250,
      height: 370,
      theme: {
        shell: {
          background: '#cfcfcf',
          color: '#ffffff'
        },
        tweets: {
          background: '#e8e8e8',
          color: '#4b4b4b',
          links: '#0182eb'
        }
      },
      features: {
        scrollbar: false,
        loop: false,
        live: true,
        behavior: 'all'
      }
    }).render().setUser('raducotescu').start();
    </script>
</section>



<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/114474556850700711159?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  &copy; 2009 - 2012 - Radu Cotescu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  


</body>
</html>
