
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Resolving vertically flipped images from webcams in Ubuntu - Radu Cotescu's professional blog</title>
  <meta name="author" content="Radu Cotescu">

  
  <meta name="description" content="This post describes how to use a script I built to fix the flipped images coming from your webcam in Ubuntu.">
  <meta name="keywords" content="webcam, flipped, image, script, ubuntu, linux, patch, uvcvideo">

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://radu.cotescu.com/resolving-vertically-flipped-images-from-webcams-in-ubuntu">
  <link href="/favicon.ico" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="http://feeds.cotescu.com/raducotescu" rel="alternate" title="Radu Cotescu's professional blog" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-8815189-1']);
    _gaq.push(['_trackPageview']);
    _gaq.push(['_trackPageLoadTime']);
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <div class="top-nav">
    <ul>
        <li><a href="/" title="Home">127.0.0.1</a></li>
        <li><a href="/about/" title="About">About</a></li>
        <li><a href="/privacy-policy/" title="Privacy Policy">Privacy Policy</a></li>
        <li><a href="/calendar/" title="Calendar">Calendar</a></li>
        <li><a href="/talks/" title="Talks">Talks</a>
        <li><a href="/resume/" title="Resume">Resume</a></li>
    </ul>
  </div>
  <header role="banner"><hgroup>
  <h1><a href="/">Radu Cotescu's professional blog</a></h1>
  
    <h2>g33k w17h pa45510n</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss email">
  <li><a href="http://feeds.cotescu.com/raducotescu" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
    <li><a href="http://feedburner.google.com/fb/a/mailverify?uri=raducotescu" rel="subscribe-email" title="subscribe via email">Email</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:radu.cotescu.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/category/-com">.com</a></li>
  <li><a href="/category/code">Code</a></li>
  <li><a href="/category/java">Java</a></li>
  <li><a href="/category/python">Python</a></li>
  <li><a href="/category/how-to">How To</a></li>
  <li><a href="/category/linux">Linux</a></li>
  <li><a href="/category/ubuntu">Ubuntu</a></li>
  <li><a href="/category/oracle">Oracle</a></li>
  <li><a href="/category/reviews">Reviews</a></li>
  <li><a href="/category/virtualization">Virtualization</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Resolving Vertically Flipped Images From Webcams in Ubuntu</h1>
    
    
      <p class="meta">
        








  


<time datetime="2009-07-31T01:53:43+03:00" pubdate data-updated="true">Jul 31<span>st</span>, 2009</time>
        
      </p>
    
  </header>


<div class="entry-content"><p><strong>UPDATE 2</strong>: <strong>I strongly recommend against using this patch any more and relaying on the solution provided by UPDATE 1.</strong></p>

<p><strong>UPDATE 1: Please check the solution from <a href="http://radu.cotescu.com/flipped-images-ubuntu-webcam/">here</a> as it represents the correct approach for fixing this problem in Ubuntu (all releases). Also, the patch from this post doesn&#8217;t work for the kernel included in Ubuntu 9.10.
</strong></p>

<p>Usually I do not use my laptop&#8217;s webcam. Not that I use another webcam. But when I made the radical switch from Windows to Ubuntu, I was disappointed to see that the images from my webcam were vertically flipped and I had no option of turning them 180Â°. The almost mythical explanation is that somehow some of the webcams mounted on laptops were mounted flipped and the producers have corrected this by pushing the repairs into the Windows drivers. Today luck seemed to be on my side as I have found <a href="http://ubuntuforums.org/showthread.php?t=838210">a patch</a> that now fixes my problem. To correctly apply it in Ubuntu 9.04 you have to browse that topic until the 12th page and check <a href="http://ubuntuforums.org/showpost.php?p=7306338&amp;postcount=118">this post</a>.</p>

<p>Because some of you might not correctly apply the patch, I have built a script that will help you patch the <code>uvcvideo</code> module in order to get the right images from your webcam. There are two patches available (I have chosen only the patches that provide a non-mirrored image) so pick the one that gives you the best image. To be able to compare them you must apply both patches, testing your webcam after each of them and then, for the third time, apply the patch that suites your needs.</p>

<p>To test your webcam, you can use VLC.</p>

<p>Here&#8217;s the short how to:</p>

<ol>
<li><p>install VLC if you do not have it:</p>

<pre><code> sudo apt-get install vlc
</code></pre></li>
<li><p>download my script from <a href="https://github.com/raducotescu/uvcvideo-ubuntu_9.04-patch/tarball/master">here</a> (right click, <em>Save link as&#8230;</em>) and make it executable:</p>

<pre><code> chmod +x flip_webcam
</code></pre></li>
<li><p>make sure you have the <code>build-essential</code> package:</p>

<pre><code> sudo apt-get install build-essential
</code></pre></li>
<li><p>run the script with super-user privileges from where you have downloaded it, providing the right options:</p>

<pre><code> This script must be run with super-user privileges.
 Usage: ./flip_webcam {OPTION}
      1      this applies patch1 file
      2      this applies patch2 file
     -h, --help  displays this beautiful help section
</code></pre></li>
</ol>


<p>The script will automatically download the needed files, will apply the patch and then it will push the module into your kernel. Do the tests by opening VLC and then following these steps:</p>

<ol>
<li>go to <em>Media</em></li>
<li>then go to <em>Open capture device&#8230;</em></li>
<li>in the pop-up window that opens, in the &#8220;Video device name&#8221; text field, insert <code>/dev/video0</code></li>
<li>click on <em>Play</em></li>
</ol>


<p>Remember to run the script whenever your kernel changes. If everything worked okay, drop a Kudos line to me in the comments. :)</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Radu Cotescu</span></span>

      








  


<time datetime="2009-07-31T01:53:43+03:00" pubdate data-updated="true">Jul 31<span>st</span>, 2009</time>
      

<span class="categories">
  
    <a class='category' href='/category/code/'>Code</a>, <a class='category' href='/category/how-to/'>How To</a>, <a class='category' href='/category/linux/'>Linux</a>, <a class='category' href='/category/ubuntu/'>Ubuntu</a>
  
</span>


    </p>
    
      <div class="sharing">
  
    <script type="text/javascript" src="http://www.reddit.com/static/button/button3.js"></script>
  
  
  	<a href="http://twitter.com/share" class="twitter-share-button" data-url="http://radu.cotescu.com/resolving-vertically-flipped-images-from-webcams-in-ubuntu/" data-via="raducotescu" data-counturl="http://radu.cotescu.com/resolving-vertically-flipped-images-from-webcams-in-ubuntu/" >Tweet</a>
  	
  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>


  
  
  	<div class="g-plusone" data-size="medium"></div>
  	
  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>


  
  
    <div class="fb-like" data-send="true" data-width="350" data-show-faces="false"></div>
    
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) {return;}
  js = d.createElement(s); js.id = id; js.async = true;
  js.src = "//connect.facebook.net/en_US/all.js#appId=212934732101925&xfbml=1";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>


  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/lazy-programmers-do/" title="Previous Post: Lazy programmers do...">&laquo; Lazy programmers do...</a>
      
      
        <a class="basic-alignment right" href="/virtualbox-usb-support/" title="Next Post: VirtualBox USB support">VirtualBox USB support &raquo;</a>
      
    </p>
  </footer>
</article>

  <section style="margin-bottom: 30px">
    <div id="google-ads-comments" style="margin: 0 auto auto; text-align: center">
      <script type="text/javascript"><!--
        google_ad_client = "ca-pub-8659561010253809";
        /* NearCommentsBox468x60 */
        google_ad_slot = "0858986716";
        google_ad_width = 468;
        google_ad_height = 60;
      //-->
      </script>
      <script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js"></script>
    </div>
  </section>
  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
    

<script type="text/javascript">
      var disqus_shortname = 'raducotescu';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://radu.cotescu.com/resolving-vertically-flipped-images-from-webcams-in-ubuntu/';
        var disqus_url = 'http://radu.cotescu.com/resolving-vertically-flipped-images-from-webcams-in-ubuntu/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>


  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/remapping-keys-in-ubuntu-14.04/">Remapping Keys in Ubuntu 14.04</a>
      </li>
    
      <li class="post">
        <a href="/coloured-log-outputs/">Coloured log outputs on Unix/Linux</a>
      </li>
    
      <li class="post">
        <a href="/java-common-sense/">A useful rant on how people write Java code</a>
      </li>
    
      <li class="post">
        <a href="/tools-required-for-opening-a-macbook-pro/">Tools required for opening a MacBook Pro</a>
      </li>
    
      <li class="post">
        <a href="/the-switch-to-mac-from-ubuntu/">Switching to Mac from Ubuntu</a>
      </li>
    
  </ul>
</section>
<script type="text/javascript"><!--
google_ad_client = "ca-pub-8659561010253809";
/* Sidebar250x250 */
google_ad_slot = "8430472643";
google_ad_width = 250;
google_ad_height = 250;
//-->
</script>
<script type="text/javascript"
src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
<section>
  <h2>Latest Tweets</h2>
  <a class="twitter-timeline" href="https://twitter.com/raducotescu" data-widget-id="323192190111203328">Tweets by @raducotescu</a>
  <script>
  !function(d,s,id) {
    var js,
        fjs = d.getElementsByTagName(s)[0],
        p = /^http:/.test(d.location) ? 'http' : 'https';
        if (!d.getElementById(id)) {
            js = d.createElement(s);
            js.id = id;
            js.src = p + "://platform.twitter.com/widgets.js";
            fjs.parentNode.insertBefore(js,fjs);
        }
  }(document,"script","twitter-wjs");
  </script>
</section>




<section class="googleplus">
  <h1>
    <a href="https://plus.google.com/106725941266744510645?rel=author">
      <img src="http://www.google.com/images/icons/ui/gprofile_button-32.png" width="32" height="32">
      Google+
    </a>
  </h1>
</section>



  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  &copy; 2009 - 2014 - Radu Cotescu -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  


</body>
</html>
